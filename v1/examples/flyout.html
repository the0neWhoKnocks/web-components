<script src="./js/components/CustomFlyout.js"></script>

<div id="flyouts">
  <button type="button" data-open-from="top">Open From <b>top</b></button>
  <custom-flyout from="top">
    <div class="title" slot="flyoutTitle">Top Flyout</div>
    <div class="content" slot="flyoutBody">Flyout content.</div>
  </custom-flyout>
  
  <button type="button" data-open-from="right">Open From <b>right</b></button>
  <custom-flyout from="right">
    <div class="title" slot="flyoutTitle">Right Flyout</div>
    <div class="content" slot="flyoutBody">Flyout content.</div>
  </custom-flyout>
  
  <button type="button" data-open-from="bottom">Open From <b>bottom</b></button>
  <custom-flyout from="bottom">
    <div class="title" slot="flyoutTitle">Bottom Flyout</div>
    <div class="content" slot="flyoutBody">Flyout content.</div>
  </custom-flyout>
  
  <button type="button" data-open-from="left">Open From <b>left</b></button>
  <custom-flyout from="left">
    <div class="title" slot="flyoutTitle">Left Flyout</div>
    <div class="content" slot="flyoutBody">Flyout content.</div>
  </custom-flyout>
</div>

<style>
  #flyouts {
    width: 100%;
    height: 10em;
    background: #ddd;
    background-image:
      radial-gradient(#aaa 20%, transparent 0),
      radial-gradient(#aaa 20%, transparent 0);
    background-size: 8px 8px;
    background-position: 0 0, 8px 8px;
    position: relative;
    box-shadow: inset 0 5px 7px 0px #00000050;
    overflow: hidden;
  }
  #flyouts button * {
    pointer-events: none;
  }
  #flyouts button {
    border: solid 1px #777;
    padding: 1em;
    background: #fff;
    margin: 0;
    box-shadow: 0 5px 7px 0px #00000050;
    position: absolute;
  }
  #flyouts [data-open-from="top"],
  #flyouts [data-open-from="bottom"] {
    left: 50%;
    transform: translateX(-50%);
  }
  #flyouts [data-open-from="top"] {
    border-radius: 0 0 0.5em 0.5em;
    border-top: none;
    top: 0;
  }
  #flyouts [data-open-from="bottom"] {
    border-radius: 0.5em 0.5em 0 0;
    border-bottom: none;
    bottom: 0;
  }
  #flyouts [data-open-from="left"],
  #flyouts [data-open-from="right"] {
    top: 50%;
    transform: translateY(-50%);
  }
  #flyouts [data-open-from="left"] {
    border-radius: 0 0.5em 0.5em 0;
    border-left: none;
    left: 0;
  }
  #flyouts [data-open-from="right"] {
    border-radius: 0.5em 0 0 0.5em;
    border-right: none;
    right: 0;
  }

  #flyouts .content {
    min-width: 80vw;
    min-height: 80vh;
    padding: 1em;
  }
</style>

<script>
  const flyouts = document.getElementById('flyouts');
  
  flyouts.addEventListener(window.CustomFlyout.events.closed, ({ detail: { from } }) => {
    console.log(`Closed "${from}" Flyout`);
  });
  flyouts.addEventListener('click', ({ target: { dataset } }) => {
    const { openFrom } = dataset;
  
    if (openFrom) {
      const flyout = document.querySelector(`custom-flyout[from="${openFrom}"]`);
      flyout.open = true;
    }
  });
</script>
